{
 "components": {
  "rows": [
   {
    "id": "GENERIC",
    "name": "Generic",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "Group",
      "type": "Label",
      "value": "Generic"
     }
    ],
    "type": "Label",
    "typeDesc": "<i>Group</i>"
   },
   {
    "id": "e5380e53-2cf1-b5f0-611f-e43eab080658",
    "parent": "GENERIC",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "button_event"
     },
     {
      "name": "propertyValue",
      "type": "String",
      "value": "1"
     },
     {
      "name": "parameterViewRole",
      "type": "parameterViewRoleCustom",
      "value": "unused"
     },
     {
      "name": "bookmarkable",
      "type": "Boolean",
      "value": "false"
     },
     {
      "name": "public",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "ComponentsParameter",
    "typeDesc": "Simple parameter"
   },
   {
    "id": "OTHERCOMPONENTS",
    "name": "Others",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "Group",
      "type": "Label",
      "value": "Others"
     }
    ],
    "type": "Label",
    "typeDesc": "<i>Group</i>"
   },
   {
    "id": "f6ca19eb-5ede-d4e4-8e3a-60d6bb67be14",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_amount"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "['${p:button_event}']"
     },
     {
      "name": "parameters",
      "type": "ValuesArray",
      "value": "[[\"button_event\",\"button_event\"]]"
     },
     {
      "name": "resultvar",
      "type": "Result",
      "value": "my_amount"
     },
     {
      "name": "dataSource",
      "type": "Datasource",
      "value": "query_1_amount"
     },
     {
      "name": "asynchronousMode",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "query_amount"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": "function f(){\n    /**\n     *  金额 类的 千分位 格式化\n    */\n    var format_saleAmt =  function(nStr){\n        nStr += '';\n        x = nStr.split('.');\n        x1 = x[0];\n        x2 = x.length > 1 ? '.' + x[1] : '';\n        var rgx = /(\\d+)(\\d{3})/;\n        while (rgx.test(x1)){\n            x1 = x1.replace(rgx, '$1' + ',' + '$2');\n        }\n        x2 = x2.slice(0,3);\n        return x1 + x2;\n        /*\n        if(!temp && typeof(temp) != \"undefined\" ){\n            return 0;\n        }else{\n            return temp;\n        }\n        */\n    };\n    /**\n     *  金额 类的  为0 的 格式化\n     */\n    var change = function(num){\n        num = parseFloat(num);\n        if( isNaN(num) ){\n            return false;\n        }else{\n            var newNum = \"\";\n            num = num + \"\";\n            var temp = num.split(\"\\.\");\n            var myLength = 0;\n            if( 2 <= temp.length ){\n                myLength = temp[1].length;\n            }\n            switch( myLength ){\n                case 0 :\n                    newNum = num + \".00\";\n                    break;\n                case 1 :\n                    newNum = num + \"0\";\n                    break;\n                default :\n                    newNum = num;\n                     break;\n            }\n            return newNum;\n        }\n    };\n    if(my_amount == \"\"){\n        my_amount[0][0] = 0;\n        document.getElementById('query_amount').innerHTML = change(my_amount[0][0]);\n    }else{\n        document.getElementById('query_amount').innerHTML = format_saleAmt(my_amount[0][0]);\n    }    \n    //document.getElementById('query_amount').innerHTML = my_amount;   \n} "
     },
     {
      "name": "postFetch",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "preChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "type": "ComponentsQuery",
    "typeDesc": "Query Component"
   },
   {
    "id": "501d27b5-c692-4423-5438-a961f24e1f5e",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_up"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "['${p:button_event}']"
     },
     {
      "name": "parameters",
      "type": "ValuesArray",
      "value": "[[\"button_event\",\"button_event\"]]"
     },
     {
      "name": "resultvar",
      "type": "Result",
      "value": "my_up"
     },
     {
      "name": "dataSource",
      "type": "Datasource",
      "value": "query_1_up"
     },
     {
      "name": "asynchronousMode",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_1_up}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": "function f(){\n    /**\n     *  金额 类的 千分位 格式化\n    */\n    var format_saleAmt =  function (num){\n        // 判断 是否 是 数字\n        /*\n        if(typeof num !==\"number\"){\n            return false;\n        }\n        */\n        num = num.toString();   // 字符 化\n        var s = num.match(/e\\+(\\d+)$/),ext=0;;\n        num = num.replace(/e.+$/,'');\n        if( s ){\n            ext=Number(s[1]);\n        }\n        //分割小数点两边\n        var tA=num.split('.');\n        //有小数点则分割开来处理(小数点后面可能还跟有科学记数法表示)\n        if( tA.length>=2&&ext ){\n            if( tA.length>ext ){\n                tA[0] += tA[1].slice(0,ext-1);\n                tA[1] = tA[1].slice(ext-1,tA[1].length-1);\n            }else{\n                tA[0] += (tA[1]+\"0\".repeat(ext-tA.length));\n                tA[1]='';\n            }\n        }\n        tA[0] = tA[0].split('');//拆字符\n        for( var i=tA[0].length;(i-=3)>0; ){\n            tA[0].splice(i,0,',');\n        }\n        return tA[0].join('')+(tA[1]?'.'+tA[1]:'');//连起来\n    }\n    /**\n     *  金额 类的  为0 的 格式化\n     */\n    var change = function(num){\n        num = parseFloat(num);\n        if( isNaN(num) ){\n            return false;\n        }else{\n            var newNum = \"\";\n            num = num + \"\";\n            var temp = num.split(\"\\.\");\n            var myLength = 0;\n            if( 2 <= temp.length ){\n                myLength = temp[1].length;\n            }\n            switch( myLength ){\n                case 0 :\n                    newNum = num + \".00\";\n                    break;\n                case 1 :\n                    newNum = num + \"0\";\n                    break;\n                default :\n                    newNum = num;\n                     break;\n            }\n            return newNum;\n        }\n    };\n    if(my_up == \"\"){\n        my_up[0][0] = 0;\n        document.getElementById('query_1_up').innerHTML = change(my_up[0][0]);\n    }else{\n        document.getElementById('query_1_up').innerHTML = format_saleAmt(my_up[0][0]);\n    }    \n    //document.getElementById('query_1_up').innerHTML = my_up;   \n} "
     },
     {
      "name": "postFetch",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "preChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "type": "ComponentsQuery",
    "typeDesc": "Query Component"
   },
   {
    "id": "63662190-d33a-113c-e2e2-735d8b9d6ec6",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_down"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "['${p:button_event}']"
     },
     {
      "name": "parameters",
      "type": "ValuesArray",
      "value": "[[\"button_event\",\"button_event\"]]"
     },
     {
      "name": "resultvar",
      "type": "Result",
      "value": "my_down"
     },
     {
      "name": "dataSource",
      "type": "Datasource",
      "value": "query_1_down"
     },
     {
      "name": "asynchronousMode",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_1_down}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": "function f(){\n    document.getElementById('query_1_down').innerHTML = my_down;   \n} "
     },
     {
      "name": "postFetch",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "preChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "type": "ComponentsQuery",
    "typeDesc": "Query Component"
   },
   {
    "id": "ba75c8ec-b012-de44-6768-a7f81ee74061",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_single"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "['${p:button_event}']"
     },
     {
      "name": "parameters",
      "type": "ValuesArray",
      "value": "[[\"button_event\",\"button_event\"]]"
     },
     {
      "name": "resultvar",
      "type": "Result",
      "value": "my_single"
     },
     {
      "name": "dataSource",
      "type": "Datasource",
      "value": "query_3_single"
     },
     {
      "name": "asynchronousMode",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_3_single}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": "function f(){\n    /**\n     *  金额 类的 千分位 格式化\n    */\n    var format_saleAmt = function(nStr){\n        nStr += '';\n        x = nStr.split('.');\n        x1 = x[0];\n        x2 = x.length > 1 ? '.' + x[1] : '';\n        var rgx = /(\\d+)(\\d{3})/;\n        while (rgx.test(x1)){\n            x1 = x1.replace(rgx, '$1' + ',' + '$2');\n        }\n        x2 = x2.slice(0,3);\n        return x1 + x2;\n        /*\n        if(!temp && typeof(temp) != \"undefined\" ){\n            return 0;\n        }else{\n            return temp;\n        }\n        */\n    };\n    /**\n     *  金额 类的  为0 的 格式化\n     */\n    var change = function(num){\n        num = parseFloat(num);\n        if( isNaN(num) ){\n            return false;\n        }else{\n            var newNum = \"\";\n            num = num + \"\";\n            var temp = num.split(\"\\.\");\n            var myLength = 0;\n            if( 2 <= temp.length ){\n                myLength = temp[1].length;\n            }\n            switch( myLength ){\n                case 0 :\n                    newNum = num + \".00\";\n                    break;\n                case 1 :\n                    newNum = num + \"0\";\n                    break;\n                default :\n                    newNum = num;\n                     break;\n            }\n            return newNum;\n        }\n    };\n    if(my_single == \"\"){\n        my_single[0][0] = 0;\n        document.getElementById('query_3_single').innerHTML = change(my_single[0][0]);\n    }else{\n        document.getElementById('query_3_single').innerHTML = format_saleAmt(my_single[0][0]);\n    }    \n    //document.getElementById('query_3_single').innerHTML = my_single;   \n} "
     },
     {
      "name": "postFetch",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "preChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "type": "ComponentsQuery",
    "typeDesc": "Query Component"
   },
   {
    "id": "f15b0ac7-96c4-0a7e-8c11-5bd5f13904aa",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_per"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "['${p:button_event}']"
     },
     {
      "name": "parameters",
      "type": "ValuesArray",
      "value": "[[\"button_event\",\"button_event\"]]"
     },
     {
      "name": "resultvar",
      "type": "Result",
      "value": "my_per"
     },
     {
      "name": "dataSource",
      "type": "Datasource",
      "value": "query_3_per"
     },
     {
      "name": "asynchronousMode",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_3_per}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": "function f(){\n    /**\n     *  金额 类的 千分位 格式化\n    */\n    var format_saleAmt = function(nStr){\n        nStr += '';\n        x = nStr.split('.');\n        x1 = x[0];\n        x2 = x.length > 1 ? '.' + x[1] : '';\n        var rgx = /(\\d+)(\\d{3})/;\n        while (rgx.test(x1)){\n            x1 = x1.replace(rgx, '$1' + ',' + '$2');\n        }\n        x2 = x2.slice(0,3);\n        return x1 + x2;\n        /*\n        if(!temp && typeof(temp) != \"undefined\" ){\n            return 0;\n        }else{\n            return temp;\n        }\n        */\n    };\n    /**\n     *  金额 类的  为0 的 格式化\n     */\n    var change = function(num){\n        num = parseFloat(num);\n        if( isNaN(num) ){\n            return false;\n        }else{\n            var newNum = \"\";\n            num = num + \"\";\n            var temp = num.split(\"\\.\");\n            var myLength = 0;\n            if( 2 <= temp.length ){\n                myLength = temp[1].length;\n            }\n            switch( myLength ){\n                case 0 :\n                    newNum = num + \".00\";\n                    break;\n                case 1 :\n                    newNum = num + \"0\";\n                    break;\n                default :\n                    newNum = num;\n                     break;\n            }\n            return newNum;\n        }\n    };\n    if(my_per == \"\"){\n        my_per[0][0] = 0;\n        document.getElementById('query_3_per').innerHTML = change(my_per[0][0]);\n    }else{\n        document.getElementById('query_3_per').innerHTML = format_saleAmt(my_per[0][0]);\n    }    \n    document.getElementById('query_3_per').innerHTML = my_per;   \n} "
     },
     {
      "name": "postFetch",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "preChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postChange",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "type": "ComponentsQuery",
    "typeDesc": "Query Component"
   },
   {
    "id": "e026e0b1-f108-f99a-f4a4-e1313c9b73b5",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "turnover"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.turnover'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:turnover}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "efa331b5-7589-ff99-008a-6448cbfeb9a5",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "compared"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.compared'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:compared}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "6643037a-db39-48bc-6f50-e0d6836050c2",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "sequential"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.sequential'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:sequential}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "eefeec48-0f83-0ba4-60fe-6cd89bdc5f95",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "kai_ren"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.kai_ren'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:kai_ren}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "f38927a8-a11d-9ac0-d0ce-28f6801f0f68",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "everyconsumer"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.everyconsumer'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:everyconsumer}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "5fc4c91a-d76e-b1db-0303-7d5c34d8d13f",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "capita_consumption"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.capita_consumption'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:capita_consumption}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "3939778e-5c89-7889-1933-d20098ac8002",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3_single"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.query_3_single'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_3_single}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "131dbb57-79d2-1703-608e-338c7a84d2c2",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3_per"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.query_3_per'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:query_3_per}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "833d4f61-3be5-e050-44c7-761ce57db8fc",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "pay_type"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.pay_type'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:pay_type}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "b676a45e-8734-6313-6d85-e5977b2324a6",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "turnover_time"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.turnover_time'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:turnover_time}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "2db43348-fad3-d1d7-a831-3388677b9191",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "turnover_qu"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.turnover_qu'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:turnover_qu}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "9950e36c-8c1f-5dd5-decd-a6f09e76e33e",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "the_day"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.the_day'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:button_today}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "6b3be17b-6021-d9ee-c3c3-930e05e6fc5d",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "yesterday"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.yesterday'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:button_yesterday}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "4c474cff-5c5f-d1f9-7861-6775eef0b13c",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "this_week"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.this_week'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:button_week}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "03d857b4-1663-9ec7-cd21-3d25ce78de76",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "this_month"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.this_month'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:button_month}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   },
   {
    "id": "89990832-9e10-5bb4-b563-40023cce8394",
    "parent": "OTHERCOMPONENTS",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "refresh"
     },
     {
      "name": "listeners",
      "type": "Listeners",
      "value": "[]"
     },
     {
      "name": "expression",
      "type": "JavaScript",
      "value": "function f(){ \n    return Dashboards.i18nSupport.prop('my.message.refresh_text'); \n} "
     },
     {
      "name": "priority",
      "type": "Integer",
      "value": 5
     },
     {
      "name": "refreshPeriod",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "htmlObject",
      "type": "HtmlObject",
      "value": "${h:button_refresh}"
     },
     {
      "name": "executeAtStart",
      "type": "Boolean",
      "value": "true"
     },
     {
      "name": "preExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "postExecution",
      "type": "JavaScript",
      "value": ""
     },
     {
      "name": "tooltip",
      "type": "Html",
      "value": ""
     }
    ],
    "rowName": "Text Component",
    "type": "ComponentstextComponent",
    "typeDesc": "Text Component"
   }
  ]
 },
 "datasources": {
  "rows": [
   {
    "id": "SQL",
    "name": "SQL Queries",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "Group",
      "type": "Label",
      "value": "SQL Queries"
     }
    ],
    "type": "Label",
    "typeDesc": "<i>Group</i>"
   },
   {
    "id": "91e810a4-5d78-69f5-1ea7-11a65aecd3c6",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_1_amount"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT\r\n    -- ROUND( ( SUM(`Fact_SumItem`.`ItemSaleAmt`) ) ,2)\r\n    \r\n    CASE WHEN SUM(`Fact_SumItem`.`ItemSaleAmt`) = 0 THEN '0.0'\r\n        WHEN  SUM(`Fact_SumItem`.`ItemSaleAmt`) = NULL THEN '0.0'\r\n    ELSE ROUND( SUM(`Fact_SumItem`.`ItemSaleAmt`) ,2) END AS t1\r\nFROM\r\n\t`Fact_SumItem` INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n    INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "62dab273-cf76-245c-a4e8-d35559f2bc37",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_1_up"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT \r\n    -- ROUND( ( (t1-t2) / if(t2 = 0,1,t2) )*100, 2 ) AS tb    -- 同比\r\n    CASE WHEN t2 = 0 THEN '0.00'\r\n        WHEN  t2 = NULL THEN '0.00'\r\n   ELSE ROUND(((t1-t2) / t2)*100,2) END AS RATIO\r\nFROM\r\n    (\r\n\tSELECT \r\n\t\tSUM(CASE WHEN ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW())  )\r\n\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n                    OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n\t\t\t\t\tOR ( ${button_event} = 30 AND  `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE())\t) \r\n\t\t\tTHEN `Fact_SumItem`.`ItemSaleAmt` ELSE 0 END ) AS t1, -- 当期金额 \r\n\t\tSUM(CASE WHEN ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = STR_TO_DATE(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d'),'%Y-%m-%d') )\r\n\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = DATE_SUB(STR_TO_DATE(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d'),'%Y-%m-%d'),INTERVAL 1 DAY) )\r\n\t\t\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d'),INTERVAL WEEKDAY(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d')) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d'),INTERVAL WEEKDAY(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d')) - 6 DAY)\t)\r\n\t\t\t\t\tOR ( ${button_event} = 30 AND `Dim_BIDate`.`YearNo` = DATE_FORMAT( DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d'),'%Y' ) AND `Dim_BIDate`.`MonthNo` = MONTH(DATE_FORMAT(DATE_ADD(NOW(),INTERVAL -1 YEAR),'%Y-%m-%d')) ) \r\n\t\t\tTHEN `Fact_SumItem`.`ItemSaleAmt` ELSE 0 END ) AS t2 -- 同期金额\r\n\tFROM\r\n\t\t`Fact_SumItem` INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n\t\tINNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n) AS tbl;"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "dedf192d-a342-fb7c-1194-1dfe0dae4f50",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_1_down"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT \r\n    CASE WHEN t2 = 0 THEN '0.00'\r\n        WHEN  t2 = NULL THEN '0.00'\r\n   ELSE ROUND(((t1-t2) / t2)*100,2) END AS RATIO\r\nFROM\r\n    (\r\n    SELECT \r\n\t\tSUM(CASE WHEN ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW())  )\r\n\t\t\t\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n                                OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n\t\t\t\t\t\t\t\tOR ( ${button_event} = 30 AND  `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE())\t) \r\n\t\t\t\tTHEN `Fact_SumItem`.`ItemSaleAmt` ELSE 0 END ) AS t1, -- 当期金额 \r\n\t\tSUM(CASE WHEN ( ${button_event} = 0 AND Fact_SumItem.BiDateId = DATE_SUB(current_date(),INTERVAL 1 DAY) )\r\n\t\t\t\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = DATE_SUB(DATE_SUB(current_date(),INTERVAL 1 DAY),INTERVAL 1 MONTH) )\r\n\t\t\t\t\t\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(SUBDATE(CURDATE(),WEEKDAY(CURDATE())),INTERVAL 7 DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(SUBDATE(CURDATE(),WEEKDAY(CURDATE())),INTERVAL 1 DAY)\t)\r\n\t\t\t\t\t\t\t\tOR ( ${button_event} = 30 AND  `Dim_BIDate`.`YearNo` = YEAR(DATE(NOW())) AND `Dim_BIDate`.`MonthNo` = MONTH(DATE_SUB(curdate(), INTERVAL 1 MONTH))) \r\n\t\t\t\tTHEN `Fact_SumItem`.`ItemSaleAmt` ELSE 0 END ) AS t2\r\n\t\t\r\n\tFROM\r\n\t\t\t`Fact_SumItem` INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n\t\t\tINNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n) AS tbl;"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "1d5adf96-9323-1a31-471f-fb393ad35804",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_1"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT\n        (\n     CASE WHEN \"en\" = ${LanParam} OR \"en-US\" = ${LanParam}\n    \t\t\tTHEN IdName_en\n    \tWHEN \"zh-CN\" = ${LanParam} OR \"zh\" = ${LanParam}\n    \t\t\tTHEN IdName\n    \tELSE IdName END \n    )AS Idname,\n\t\tGrossProfitAmt\nFROM\n(\n\tSELECT \n\t\tIdName,\n\t\tIdName_en,\n\t\tGrossProfitAmt\n\tFROM\n\t\t\t(\n\t\t\tSELECT\n\t\t\t\t\t\t\t sum(`Fact_SumItem`.`SaleCostAmt`) AS SaleCostAmt,\n\t\t\t\t\t\t\t sum(`Fact_SumItem`.`GrossProfitAmt`) AS GrossProfitAmt\n\t\t\t\t\tFROM\n\t\t\t\t\t\t\t `Fact_SumItem` INNER JOIN `Dim_ItemCategory` ON `Fact_SumItem`.`ItemCatId` = `Dim_ItemCategory`.`ItemCatId`\n\t\t\t\t\t\t\t INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\n\t\t\t\t\t\t\t INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\n\t\t\t\t\tWHERE\n\t\t\t\t\t\t\t( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\n\t\t\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\n\t\t\t\t\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\n\t\t\t\t\t\t\tOR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\n\t\t\t)AS tbl JOIN sy_salename \n\tWHERE \n\t\tSY_SaleName.Id IN (1,2)\n) AS A;"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\",\"\"],[\"LanParam\",\"LanParam\",\"String\",\"\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "8d2f42ce-0f1b-c6fb-ea68-e1fe241d8bed",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_1_20161201"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT SY_SaleName.IdName AS IdName,\r\n        CASE WHEN SY_SaleName.Id = 1 THEN SaleCostAmt ELSE GrossProfitAmt END AS value\r\nFROM\r\n    (\r\n\t\tSELECT\r\n             sum(`Fact_SumItem`.`SaleCostAmt`) AS SaleCostAmt,\r\n             sum(`Fact_SumItem`.`GrossProfitAmt`) AS GrossProfitAmt\r\n        FROM\r\n             `Fact_SumItem` INNER JOIN `Dim_ItemCategory` ON `Fact_SumItem`.`ItemCatId` = `Dim_ItemCategory`.`ItemCatId`\r\n             INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n             INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n        WHERE\r\n            ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n            OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n            OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n            OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\n    )AS tbl JOIN SY_SaleName WHERE SY_SaleName.Id IN (1,2);\r\n    "
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "2b402f5e-1a0e-132d-46d3-2ff06a7a72ce",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_2"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT DISTINCT\r\n     `Dim_ItemCategory`.`ItemCatName_level1`,\r\n     sum(`Fact_SumItem`.`ItemSaleAmt`)\r\nFROM\r\n     `Fact_SumItem` INNER JOIN `Dim_ItemCategory` ON `Fact_SumItem`.`ItemCatId` = `Dim_ItemCategory`.`ItemCatId`\r\n     INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n     INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` >= DATE(NOW()) AND `Dim_BIDate`.`BIDate` <= DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` >= date_sub(curdate(),interval 1 day) AND `Dim_BIDate`.`BIDate` <= date_sub(curdate(),interval 1 day) )\r\n    OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\nGROUP BY\r\n     `Dim_ItemCategory`.`ItemCatName_level1`\r\nORDER BY\r\n     `Dim_ItemCategory`.`ItemCatName_level1` ASC"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "023a5ec0-3aac-56cc-743c-e37b8367c832",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT\n        (\n     CASE WHEN \"en\" = ${LanParam} OR \"en-US\" = ${LanParam}\n        \t\tTHEN IdName_en\n    \tWHEN \"zh-CN\" = ${LanParam} OR \"zh\" = ${LanParam}\n    \t\t\tTHEN IdName\n    \tELSE IdName END \n    )AS Idname,\n\t\tGuestQty\nFROM\n(\n\tSELECT \n\t\t\tIdName,\n\t\t\tIdName_en,\n\t\t\tGuestQty\n\tFROM\n\t\t\t(\n\t\t\t\tSELECT\n\t\t\t\t\t sum(`Fact_SumDay`.`CheckQty`) AS CheckQty,\n\t\t\t\t\t sum(`Fact_SumDay`.`GuestQty`) AS GuestQty\n\t\t\tFROM\n\t\t\t\t\t `Fact_SumDay` INNER JOIN `Dim_BIDate` ON `Fact_SumDay`.`BIDateId` = `Dim_BIDate`.`BIDateId`\n\t\t\t\t\t INNER JOIN `Dim_Outlet` ON `Fact_SumDay`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\n\t\t\tWHERE\n\t\t\t\t\t\t\t( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\n\t\t\t\t\t\t\tOR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\n\t\t\t\t\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\n\t\t\t\t\t\t\tOR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\n\t\t\t)AS tbl JOIN SY_SaleName WHERE SY_SaleName.Id IN (3,4)\n) AS A"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\",\"\"],[\"LanParam\",\"LanParam\",\"String\",\"\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "13b6a0f5-b03e-4ac8-e9c6-20ccd7410641",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3_20161201"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT SY_SaleName.IdName AS IdName,\r\n        CASE WHEN SY_SaleName.Id = 3 THEN CheckQty ELSE GuestQty END AS value\r\nFROM\r\n    (\r\n    \tSELECT\r\n\t\t\t\t sum(`Fact_SumDay`.`CheckQty`) AS CheckQty,\r\n\t\t\t\t sum(`Fact_SumDay`.`GuestQty`) AS GuestQty\r\n\t\tFROM\r\n\t\t\t\t `Fact_SumDay` INNER JOIN `Dim_BIDate` ON `Fact_SumDay`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n\t\t\t\t INNER JOIN `Dim_Outlet` ON `Fact_SumDay`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n\t\tWHERE\r\n            ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n            OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\t\t\t OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n            OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\n    )AS tbl JOIN SY_SaleName WHERE SY_SaleName.Id IN (3,4);"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "6608b47f-a7fe-8427-6b68-05f352eab462",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3_single"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT \r\n    CASE WHEN SUM(Fact_SumDay.CheckQty) = 0 THEN '0.00'\r\n        WHEN  SUM(Fact_SumDay.CheckQty) = NULL THEN '0.00'\r\n   ELSE ROUND( ( SUM(Fact_SumDay.SaleAmt) / SUM(Fact_SumDay.CheckQty) ) ,2) END AS t1    -- 单笔消费\r\nFROM\r\n    `Fact_SumDay` INNER JOIN `Dim_BIDate` ON `Fact_SumDay`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n\tINNER JOIN `Dim_Outlet` ON `Fact_SumDay`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "578c5819-abf3-0590-e65b-596bddb4c5c4",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "query_3_per"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT \r\n    CASE WHEN SUM(Fact_SumDay.GuestQty) = 0 THEN '0.00'\r\n        WHEN  SUM(Fact_SumDay.GuestQty) = NULL THEN '0.00'\r\n   ELSE ROUND( ( SUM(Fact_SumDay.SaleAmt) / SUM(Fact_SumDay.GuestQty) ) ,2) END AS t2    -- 人均消费\r\nFROM\r\n    `Fact_SumDay` INNER JOIN `Dim_BIDate` ON `Fact_SumDay`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n    INNER JOIN `Dim_Outlet` ON `Fact_SumDay`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "c83b71f3-c9e7-b14c-7a17-d5266f7084de",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "firstBar"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "\r\nSELECT DISTINCT\r\n     `Dim_BITime`.`HourNo`,\r\n     sum(`Fact_SumItem`.`ItemSaleAmt`)\r\nFROM\r\n     `Fact_SumItem` INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n     INNER JOIN `Dim_BITime` ON `Fact_SumItem`.`CheckOpenTimeId` = `Dim_BITime`.`BITimeId`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n    OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\nGROUP BY\r\n     `Dim_BITime`.`HourNo`\r\nORDER BY\r\n     `Dim_BITime`.`HourNo` ASC"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "651f331c-2770-0a9a-edd1-884b37e96be1",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "secondBar"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT \r\n        X.*\r\nFROM\r\n(\r\n\tSELECT DISTINCT\r\n\t\t\t #`Dim_Outlet`.`OutletId`,\r\n\t\t\t `Dim_Outlet`.`OutletName`,\r\n\t\t\t sum(`Fact_SumItem`.`ItemSaleAmt`) AS Amount\r\n\tFROM\r\n\t\t\t `Fact_SumItem` INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n\t\t\t INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n\tWHERE\r\n\t\t\t( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n            OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n\t\t\tOR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\n\tGROUP BY\r\n\t\t\t #`Dim_Outlet`.`OutletId`,\r\n\t\t\t `Dim_Outlet`.`OutletName`\r\n\tORDER BY\r\n\t\t\t sum(`Fact_SumItem`.`ItemSaleAmt`) DESC LIMIT 5\r\n) AS X\r\nUNION \r\nSELECT \r\n\t\tY.*\r\nFROM\r\n(\r\n\tSELECT DISTINCT\r\n\t\t\t #`Dim_Outlet`.`OutletId`,\r\n\t\t\t `Dim_Outlet`.`OutletName`,\r\n\t\t\t sum(`Fact_SumItem`.`ItemSaleAmt`)\tAS Amount\r\n\tFROM\r\n\t\t\t `Fact_SumItem` INNER JOIN `Dim_BIDate` ON `Fact_SumItem`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n\t\t\t INNER JOIN `Dim_Outlet` ON `Fact_SumItem`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n\tWHERE\r\n\t\t\t( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n            OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n\t\t\tOR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n\t\t\tOR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\n\tGROUP BY\r\n\t\t\t #`Dim_Outlet`.`OutletId`,\r\n\t\t\t `Dim_Outlet`.`OutletName`\r\n\tORDER BY\r\n\t\t\t sum(`Fact_SumItem`.`ItemSaleAmt`) LIMIT 5\r\n) AS Y\tORDER BY Amount DESC;\r\n\r\n\r\n"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   },
   {
    "id": "d5545b3f-3e27-b74a-f420-2ab5a7a0173e",
    "meta": "CDA",
    "meta_conntype": "sql.jndi",
    "meta_datype": "sql",
    "parent": "SQL",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "discountTypeQuery"
     },
     {
      "name": "access",
      "type": "Access",
      "value": "public"
     },
     {
      "name": "jndi",
      "type": "Jndi",
      "value": "jdbc_bi"
     },
     {
      "name": "query",
      "type": "SqlQuery",
      "value": "SELECT DISTINCT\r\n     `Dim_PayType`.`PayTypeClassName`,\r\n     sum(`Fact_CheckPay`.`PayAmt`)\r\nFROM\r\n     `Fact_CheckPay` INNER JOIN `Dim_Outlet` ON `Fact_CheckPay`.`OutletId_t` = `Dim_Outlet`.`OutletId_t`\r\n     INNER JOIN `Dim_BIDate` ON `Fact_CheckPay`.`BIDateId` = `Dim_BIDate`.`BIDateId`\r\n     INNER JOIN `Dim_PayType` ON `Fact_CheckPay`.`PayTypeId` = `Dim_PayType`.`PayTypeId`\r\nWHERE\r\n    ( ${button_event} = 0 AND `Dim_BIDate`.`BIDate` = DATE(NOW()) )\r\n    OR ( ${button_event} = 1 AND `Dim_BIDate`.`BIDate` = date_sub(curdate(),interval 1 day)  )\r\n    OR ( ${button_event} = 7 AND `Dim_BIDate`.`BIDate` >= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) DAY) AND `Dim_BIDate`.`BIDate` <= DATE_SUB(CURDATE(),INTERVAL WEEKDAY(CURDATE()) - 6 DAY) )\r\n    OR ( ${button_event} = 30 AND `Dim_BIDate`.`BIDate` >= DATE_ADD(CURDATE(),INTERVAL -DAY(CURDATE())+1 DAY) AND `Dim_BIDate`.`BIDate` <= LAST_DAY(CURDATE()) )\r\nGROUP BY\r\n     `Dim_PayType`.`PayTypeClassId`, `Dim_PayType`.`PayTypeClassName`\r\nORDER BY\r\n     sum(`Fact_CheckPay`.`PayAmt`) DESC\r\n\r\n\r\n"
     },
     {
      "name": "parameters",
      "type": "CdaParameters",
      "value": "[[\"button_event\",\"button_event\",\"String\",\"\"]]"
     },
     {
      "name": "cdacalculatedcolumns",
      "type": "CdaCalculatedColumnsArray",
      "value": "[]"
     },
     {
      "name": "cdacolumns",
      "type": "CdaColumnsArray",
      "value": "[]"
     },
     {
      "name": "output",
      "type": "IndexArray",
      "value": "[]"
     },
     {
      "name": "outputMode",
      "type": "OutputMode",
      "value": "include"
     },
     {
      "name": "cacheKeys",
      "type": "CacheKeysValues",
      "value": "[]"
     },
     {
      "name": "cacheDuration",
      "type": "Integer",
      "value": 3600
     },
     {
      "name": "cache",
      "type": "Boolean",
      "value": "false"
     }
    ],
    "type": "Componentssql_sqlJndi",
    "typeDesc": "sql over sqlJndi"
   }
  ]
 },
 "filename": "/public/dashboard/dashboard1.cdfde",
 "layout": {
  "rows": [
   {
    "id": "75c14cb2-8e47-af49-d154-cdb3d0306b8a",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "echarts"
     },
     {
      "name": "resourceFile",
      "type": "ResourceFile",
      "value": "${solution:../dashboard/echarts.js}"
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Javascript"
     }
    ],
    "type": "LayoutResourceFile",
    "typeDesc": "Resource"
   },
   {
    "id": "fd04c7cf-6a1e-93a9-4862-f063c1c6382d",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "myCss"
     },
     {
      "name": "resourceCode",
      "type": "Resource",
      "value": "/*---------------------- font----------------------------------- */\n@font-face {\n    font-family: 'robotoregular';\n    src:url(${res:/fonts/Roboto-Regular-webfont.eot});\n    src:url(${res:/fonts/Roboto-Regular-webfont.eot}?#iefix) format('embedded-opentype'),\n        url(${res:/fonts/Roboto-Regular-webfont.woff}) format('woff'),\n        url(${res:/fonts/Roboto-Regular-webfont.ttf}) format('truetype'),\n        url(${res:/fonts/Roboto-Regular-webfont.svg#robotoregular}) format('svg');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'roboto_condensedregular';\n    src: url(${res:/fonts/RobotoCondensed-Regular-webfont.eot});\n    src: url(${res:/fonts/RobotoCondensed-Regular-webfont.eot}?#iefix) format('embedded-opentype'),\n         url(${res:/fonts/RobotoCondensed-Regular-webfont.woff}) format('woff'),\n         url(${res:/fonts/RobotoCondensed-Regular-webfont.ttf}) format('truetype'),\n         url(${res:/fonts/RobotoCondensed-Regular-webfont.svg#roboto_condensedregular}) format('svg');\n    font-weight: normal;\n    font-style: normal;\n}\n\n/* ================ GENERAL STYLES ================ */\nhtml {\n    /*\n    overflow-y: scroll;\n    */\n    overflow-y: hidden;\n    overflow-x: hidden;\n    height: 100%;\n}\n.container {\n    /*width: 1170px;*/\n    width : 98% !important;\n    font-family: 'robotoregular';\n    padding-bottom: 20px;\n    position: relative;\n    margin-top : 1%;\n    /*\n    height: 580px;\n    margin-top : 1%;\n    width : 98% !important;\n    height: 580px;\n    */\n} \n/*---------------------- button----------------------------------- */\n.hwq2button {\n    display: inline-block;\n    zoom: 1; /* zoom and *display = ie7 hack for display:inline-block */\n    *display: inline;\n    vertical-align: baseline;\n    /*\n    margin: 0 2px;\n    */\n    margin: 0 0;\n    outline: none;\n    cursor: pointer;\n    text-align: center;\n    text-decoration: none;\n    font: 20px/100% Arial, Helvetica, sans-serif;\n    padding: .15em 2em .55em;\n    text-shadow: 0 1px 1px rgba(0,0,0,.3);\n    -webkit-border-radius: .15em;\n    -moz-border-radius: .15em;\n    border-radius: .5em;\n    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    box-shadow: 0 1px 2px rgba(0,0,0,.2);\n}\n.hwq2button:hover {\n    text-decoration: none;\n}\n.hwq2button:active {\n    position: relative;\n    top: 1px;\n}\n.bigrounded {\n    -webkit-border-radius: 2em;\n    -moz-border-radius: 2em;\n    border-radius: 2em;\n}\n.medium {\n    font-size: 12px;\n    padding: .4em 1.5em .42em;\n}\n.small {\n    font-size: 11px;\n    padding: .2em 1em .275em;\n}\n /* ------------------------------green------------------------------- */\n.green {\n    color: #e8f0de;\n    border: solid 1px #538312;\n    background: #64991e;\n    background: -webkit-gradient(linear, left top, left bottom, from(#7db72f), to(#4e7d0e));\n    background: -moz-linear-gradient(top, #7db72f, #4e7d0e);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#7db72f', endColorstr='#4e7d0e');\n}\n.green:hover {\n    background: #408080;\n    background: -webkit-gradient(linear, left top, left bottom, from(#6b9d28), to(#436b0c));\n    background: -moz-linear-gradient(top, #6b9d28, #436b0c);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#6b9d28', endColorstr='#436b0c');\n}\n.green:active {\n    color: #64991E;\n    background: -webkit-gradient(linear, left top, left bottom, from(#4e7d0e), to(#7db72f));\n    background: -moz-linear-gradient(top, #4e7d0e, #7db72f);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4e7d0e', endColorstr='#7db72f');\n} \n\n\n\n\n#div1{\n    margin-top : 5px;\n    width:100%;\n    height: 300px;\n   /* background: #ffffff; */\n   background:#ffffff;\n} \n#div1_p1{\n     float:left;\n     height:100%;\n     width:32%;\n     border-left: 1px solid silver; \n     border-top: 1px solid silver; \n     border-bottom: 1px solid silver; \n }\n#div1_p2{\n     float:left;\n     height:100%;\n     width:32%;\n     border-right:1px solid silver; \n     border-top:1px solid silver; \n     border-bottom:1px solid silver;\n}\n#div1_p3{\n     float:right;\n     height:100%;\n     width:35%;\n     border-left:1px solid silver; \n     border-top:1px solid silver; \n     border-bottom:1px solid silver;\n     border-right:1px solid silver;\n}\n \n#div2{\n    width:100%;\n    \n    height: 315px;\n    /*background: #ffffff;\n    float:left;\n    */\n    background:#ffffff;\n    padding-top: 10px;\n    margin-bottom: 0px;\n} \n#div2_1{\n    position:relative;\n    width:50%;\n    float:left;\n    height: 315px;\n    padding-left: 3px;\n    /*\n    padding-top: 10px;  \n    */\n    border-left:1px solid silver; \n    border-top:1px solid silver; \n    border-bottom:1px solid silver;\n    border-right:1px solid silver; \n} \n#div2_2{\n    position:relative;\n    width:48.7%;\n    float:right;\n    height: 315px;\n    padding-left: 3px;\n    /*\n    padding-top: 10px;  \n    */\n    border-left: 1px solid silver; \n    border-top: 1px solid silver; \n    border-bottom: 1px solid silver;\n    border-right: 1px solid silver;\n    margin-bottom: 1%;\n} "
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Css"
     }
    ],
    "type": "LayoutResourceCode",
    "typeDesc": "Resource"
   },
   {
    "id": "e0c65132-1297-7cf4-831b-be35a50b8234",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "echartsEvents"
     },
     {
      "name": "resourceCode",
      "type": "Resource",
      "value": "function Today(){\n    $('#button_today').css('color', 'red' );\n    $('#button_yesterday').css('color', '#FFFFFF' );\n    $('#button_week').css('color', '#FFFFFF' );\n    $('#button_month').css('color', '#FFFFFF' );\n    $('#button_refresh').css('color', '#FFFFFF' );\n    Dashboards.fireChange(\"button_event\",\"0\");\n    onload_echarts();\n} \nfunction Yesterday(){\n    $('#button_today').css('color', '#FFFFFF' );\n    $('#button_yesterday').css('color', 'red' );\n    $('#button_week').css('color', '#FFFFFF' );\n    $('#button_month').css('color', '#FFFFFF' );\n    $('#button_refresh').css('color', '#FFFFFF' );\n    Dashboards.fireChange(\"button_event\",\"1\");\n    onload_echarts();\n} \nfunction This_Week(){\n    $('#button_today').css('color', '#FFFFFF' );\n    $('#button_yesterday').css('color', '#FFFFFF' );\n    $('#button_week').css('color', 'red' );\n    $('#button_month').css('color', '#FFFFFF' );\n    $('#button_refresh').css('color', '#FFFFFF' );\n    Dashboards.fireChange(\"button_event\",\"7\");\n    onload_echarts();\n} \nfunction This_Month(){\n    //alert(\"This Month\");\n    $('#button_today').css('color', '#FFFFFF' );\n    $('#button_yesterday').css('color', '#FFFFFF' );\n    $('#button_week').css('color', '#FFFFFF' );\n    $('#button_month').css('color', 'red' );\n    $('#button_refresh').css('color', '#FFFFFF' );\n    Dashboards.fireChange(\"button_event\",\"30\");\n    onload_echarts();\n}     \n\nfunction Refresh(){\n    //Dashboards.fireChange(\"button_event\",\"Today\");\n    //alert(button_event);\n    //Dashboards.fireChange(\"p_color\",\"green\");\n    $('#button_today').css('color', '#FFFFFF' );\n    $('#button_yesterday').css('color', '#FFFFFF' );\n    $('#button_week').css('color', '#FFFFFF' );\n    $('#button_month').css('color', '#FFFFFF' );\n    $('#button_refresh').css('color', 'red' );\n    Dashboards.fireChange(\"button_event\",\"1\");\n    onload_echarts();\n} \n "
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Javascript"
     }
    ],
    "type": "LayoutResourceCode",
    "typeDesc": "Resource"
   },
   {
    "id": "b08d4be5-b1f6-86fd-87d9-4ca231521a37",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "loadEcharts1"
     },
     {
      "name": "resourceCode",
      "type": "Resource",
      "value": "/*\nfunction showEcharts1(){\n   // window.onresize = function(){\n\t\t//第一个echarts饼图\n\t\t$.getJSON(\n\t\t\t\"/pentaho/plugin/cda/api/doQuery?path=/home/admin/A9.cda&dataAccessId=firstBar&parambutton_event=\" + button_event,\n\t\t\tfunction(result){\n\t\t\t\tvar legends = [];\n\t\t\t\tvar datas = [];\n                var echarts1 = echarts.init(document.querySelector('#div2_1'));\n\t\t\t\t$.each(\n\t\t\t\t\tresult.resultset,\n\t\t\t\t\tfunction(i,row){\n\t\t\t\t\t\tlegends.push(row[0]);\n\t\t\t\t\t\tdatas.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: row[0],\n\t\t\t\t\t\t\t\tvalue: row[1]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t//echarts1.resize();\n\t\t\t\techarts1.setOption({\n                    title : {\n                        text : '时段量',\n                        x : 'center',\n                    },\n                    tooltip : {\n                        trigger : 'item'\n                    },\n                    toolbox : {\n                        show : true,\n                        feature : {\n                            dataView : {\n                                show : true,\n                                readOnly : true\n                            },\n                        }\n                    },\n                    calculable : true,\n                    grid : {\n                        borderWidth : 0,\n                        y : 80,\n                        y2 : 60\n                    },\n                    xAxis : [\n                        {\n                            type : 'category',\n                            show : true,\n                            data : legends\n                        }\n                    ],\n                    yAxis : [\n                        {\n                            type : 'value',\n                            show : true,\n                        }\n                    ],\n                    series : [\n                        {\n                            name : '时段营业额',\n                            type : 'bar',\n                            itemStyle : {\n                                normal : {\n                                    color : function(params){\n                                        var colorList = [\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\"\n                                        ];\n                                        return  colorList[params.dataIndex]\n                                    }\n                                },\n                                label : {\n                                    show : true,\n                                    position : 'top',\n                                    formatter : '{b}\\n{c}'\n                                }\n                            },\n                            data : datas,\n                            /*\n                            markPoint : {\n                                tooltip : {\n                                    trigger : 'item',\n                                    backgroundColor : 'rgba(0,0,0,0)',\n                                    formatter : function(params){\n                                        \n                                    }\n                                }\n                            }\n                            */\n                            /*\n                        }\n                    ]\t\t\t\t\t\n\t\t\t\t})\n                echarts1.on(\"click\", function(){\n                    //alert(json.stringify(param));//这里根据param填写你的跳转逻辑\n                    alert(1);\n                }); \n                //window.onresize = echarts1.resize;\n                window.addEventListener(\"resize\",function(){\n                    echarts1.resize();\n                });\n\n\t\t\t}\n\t\t)\n\t\t//第一个echarts饼图\n\t\t$.getJSON(\n\t\t\t\"/pentaho/plugin/cda/api/doQuery?path=/home/admin/A9.cda&dataAccessId=secondBar&parambutton_event=\" + button_event,\n\t\t\tfunction(result){\n\t\t\t\tvar legends = [];\n\t\t\t\tvar datas = [];\n                var echarts2 = echarts.init(document.querySelector('#div2_2'));\n\t\t\t\t$.each(\n\t\t\t\t\tresult.resultset,\n\t\t\t\t\tfunction (i,row){\n\t\t\t\t\t\tlegends.push(row[0]);\n\t\t\t\t\t\tdatas.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: row[0],\n\t\t\t\t\t\t\t\tvalue: row[1]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\t//alert(row[0] + \"==\" + row[1]);\n\t\t\t\t\t}\n\t\t\t\t);\n                //var echarts2 = echarts.init(document.querySelector('#div2_2'));\n\t\t\t\t//echarts2.resize(); \n\t\t\t\techarts2.setOption({\n                    title : {\n                        text : '门店量',\n                        x : 'center',\n                    },\n                    tooltip : {\n                        trigger : 'item'\n                    },\n                    toolbox : {\n                        show : true,\n                        feature : {\n                            dataView : {\n                                show : true,\n                                readOnly : true\n                            },\n                        }\n                    },\n                    calculable : true,\n                    grid : {\n                        borderWidth : 0,\n                        y : 80,\n                        y2 : 60\n                    },\n                    xAxis : [\n                        {\n                            type : 'category',\n                            show : true,\n                            data : legends\n                        }\n                    ],\n                    yAxis : [\n                        {\n                            type : 'value',\n                            show : true,\n                        }\n                    ],\n                    series : [\n                        {\n                            name : '时段营业额',\n                            type : 'bar',\n                            itemStyle : {\n                                normal : {\n                                    color : function(params){\n                                        var colorList = [\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                            \"#007AC7\",\"#007AC7\",\"#007AC7\"\n                                        ];\n                                        return  colorList[params.dataIndex]\n                                    }\n                                },\n                                label : {\n                                    show : true,\n                                    position : 'top',\n                                    formatter : '{b}\\n{c}'\n                                }\n                            },\n                            data : datas,\n                            /*\n                            markPoint : {\n                                tooltip : {\n                                    trigger : 'item',\n                                    backgroundColor : 'rgba(0,0,0,0)',\n                                    formatter : function(params){\n                                        \n                                    }\n                                }\n                            }\n                            */\n                            /*\n                        }\n                    ]\t\t\t\t\t\n\t\t\t\t})\n                //window.onresize = echarts2.resize;\n                window.addEventListener(\"resize\",function(){\n                    echarts2.resize();\n                });\n\t\t\t}\n\t\t)\n//\t}\n}\n */ "
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Javascript"
     }
    ],
    "type": "LayoutResourceCode",
    "typeDesc": "Resource"
   },
   {
    "id": "2ebb557c-ef7a-10cf-0b9d-c25ba7ffb322",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "loadEcharts_auto"
     },
     {
      "name": "resourceCode",
      "type": "Resource",
      "value": "function onload_echarts(){\n    var Uny = Dashboards.i18nSupport.prop('my.message.uny');\n    var Uns = Dashboards.i18nSupport.prop('my.message.uns');\n    var Unp = Dashboards.i18nSupport.prop('my.message.unp'); \n    var Pet = Dashboards.i18nSupport.prop('my.message.pet');\n    var Tut = Dashboards.i18nSupport.prop('my.message.tut');\n    var Otl = Dashboards.i18nSupport.prop('my.message.otl');\n    // 读取CDA 文件\n    var readJSONFile = function(url){\n        var jsonData;\n\t\t$.ajax({\n\t\t\ttype : 'GET',\n\t\t\turl : url,\n\t\t\tasync : false,\n\t\t\tdataType : 'json',\n\t\t\tdata : null,\n\t\t\tsuccess : function(response){\n\t\t\t\tjsonData = response;\n\t\t\t\t//alert(jsonData);\n\t\t\t}\n\t\t})\n\t\treturn jsonData;\n\t};\n    var lanParam = jQuery.i18n.browserLang();\n    /*********************************************\n    *              第一个echarts饼图             *\n\t*********************************************/\t\n\t//var url_first_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=query_1&parambutton_event=\" + button_event;\n\tvar url_first_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=query_1&parambutton_event=\" + button_event + \"&paramLanParam=\" + lanParam;\n    var getFirstPieJSON = readJSONFile(url_first_pie).resultset;\n\tvar FirstPieEcharts = echarts.init(document.querySelector(\"#div1_p1_1\"));  \n    /**\n    *  实现对CDA数据的封装\n    */\n    var FirstPieDataEncapsulation = (function(){\n        var data = function(){\n            var tempArr = [];\n            for(var i = 0; i < getFirstPieJSON.length; i++){\n                //tempArr[i] = getFirstPieJSON[i][1];\n                \n                tempArr.push({\n        \t\t\t'name' : getFirstPieJSON[i][0],\n                    'value'  : getFirstPieJSON[i][1],\n                    selected : true\n    \t\t\t})\n                \n            }\n            return tempArr;\n        };\n        return {\n            getDatas : function(){\n                return data()\n            }\n        }\n    })();\n    var ShowFirstPieEcharts = function(){\n        FirstPieEcharts.setOption({\n            tooltip : {\n                trigger : 'item',\n                //formatter : \"{a} <br/>{b}: {c}(元)\"\n            },\n            legend : {\n                data : FirstPieDataEncapsulation.getDatas(),\n                x : 'center',\n                y : 'bottom',\n                orient : 'horizontal',\n            },\n            series : [\n                {\n                    name : Uny,\n                    type :'pie',\n                    radius : '80%',\n                    center: ['50%', '45%'],\n                    //center: ['50%', '45%'],\n                    //selectedMode : 'select',\n                    //radius : ['2%', '60%'],\n                    //center: ['50%', '50%'],\n                    itemStyle : {\n                        emphasis: {\n                            shadowBlur: 10,\n                            shadowOffsetX: 0,\n                            //shadowColor: 'rgba(0, 0, 0, 0.5)'\n                        },\n                        normal : {\n                            label : {\n                                position : 'inner',\n                                formatter: function (params){\n                                    return (params.percent - 0) + '%';\n                                },\n                                textStyle : {\n                                    color : '#000'\n                                },\n                            },\n                            color : function(params){\n                                var colorList = [\n                                    '#F4A20E','#28A6E1'\n                                ];\n                            return colorList[params.dataIndex];\n                            }\n                        }\n                    },\n                    label : {\n                        normal : {\n                            position : 'inner'\n                        }\n                    },\n                    labelLine : {\n                        normal : {\n                            show : true \n                        }\n                    },\n                    data : FirstPieDataEncapsulation.getDatas()\n                    /*\n                    data : [\n                         {value:335, name:'直接访问'},\n                        {value:310, name:'邮件营销'},\n                        {value:234, name:'联盟广告'},\n                        {value:135, name:'视频广告'},\n                        {value:1548, name:'搜索引擎'}\n                    ]\n                    */\n                }\n            ]\t\t\n    \t});        \n    }();\n\twindow.addEventListener(\"resize\",function(){\n\t\tFirstPieEcharts.resize();\n    });\n    /*********************************************\n    *              第三个echarts饼图             *\n    *********************************************/    \n    //var url_third_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=query_3&parambutton_event=\" + button_event;\n    var url_third_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=query_3&parambutton_event=\" + button_event + \"&paramLanParam=\" + lanParam;\n    var getThirdPieJSON = readJSONFile(url_third_pie).resultset; \n    var ThirdPieEcharts = echarts.init(document.querySelector(\"#div1_p2_2\"));\n    /**\n    *  实现对CDA数据的封装\n    */\n    var ThirdPieDataEncapsulation = (function(){\n        var data1 = function(){\n            var tempArr = [];\n            for(var i = 0; i < getThirdPieJSON.length; i++){\n                tempArr.push({\n                    'name' : getThirdPieJSON[i][0],\n                    'value' : getThirdPieJSON[i][1],\n                })\n            }\n            //alert(tempArr);\n            return tempArr;\n        };  \n        var data2 = function(){\n            var tempArr = [];\n            for(var i = 0; i < 1; i++){\n                tempArr.push({\n                    'name' : getThirdPieJSON[i][0],\n                    'value' : getThirdPieJSON[i][1],\n                })\n            }\n            return tempArr;       \n        };\n        var data3 = function(){\n            var tempArr = [];\n            for(var i = 1; i < 2; i++){\n                tempArr.push({\n                    'name' : getThirdPieJSON[i][0],\n                    'value' : getThirdPieJSON[i][1],\n                })\n            }\n            return tempArr;              \n        };\n        return {\n            getDatas1 : function(){\n                return data1()\n            },\n            getDatas2 : function(){\n                return data2()\n            },\n            getDatas3 : function(){\n                return data3()\n            }\n        }\n    })();\n    var ShowThirdPieEcharts = function(){\n        ThirdPieEcharts.setOption({\n            tooltip : {\n                trigger : 'item',\n                //formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n            },\n            /*\n            legend : {\n                data : ThirdPieDataEncapsulation.getDatas1(),\n                x : 'center',\n                y : 'bottom',\n                orient : 'horizontal',            \n            },\n            */\n            calculable : true,\n            series : [\n                {\n                    name : Uns,\n                    type : 'pie',\n                    selectedMode : 'single',\n                    center: ['55%', '45%'],\n                    radius : ['10%', '40%'],\n                    \n                    label : {\n                        normal : {\n                            position : 'inner'\n                        }\n                    },\n                    /*\n                    labelLine : {\n                        normal : {\n                            /*\n                            lineStyle : {\n                                color : 'green'\n                            },\n                            \n                            show : true,\n                            smooth : 0.2,\n                            length : 50,\n                            length2 : 50\n                        }\n                    },\n                    */\n                    itemStyle : {\n                        emphasis : {\n                            shadowBlur : 10,\n                            shadowOffsetX : 0,\n                            shadowColor : 'rgba(0, 0, 0, 0.5)'\n                        },\n                        normal : {\n                            position : 'inner',\n                            formatter: function (params){\n                                    return (params.percent - 0) + '%';\n                            },\n                            color : function(params){\n                                var colorList = [\n                                    '#29A7E2'\n                                ];\n                            return colorList[params.dataIndex];\n                            }\n                        }\n                    },\n                    data : ThirdPieDataEncapsulation.getDatas2()\n                },\n                {\n                    name : Unp,\n                    type : 'pie',\n                    //center: ['50%', '45%'],\n                    center: ['55%', '45%'],\n                    radius : ['33.5%', '80%'],\n                    //radius : ['10%', '40%'],\n                    \n                    label : {\n                        normal : {\n                            position : 'inner'\n                        }\n                    },\n                    /*\n                    labelLine : {\n                        normal : {\n                            /*\n                            lineStyle : {\n                                color : 'green'\n                            },\n                            \n                            show : true,\n                            smooth : 0.2,\n                            length : 50,\n                            length2 : 50\n                        }\n                    },\n                    */\n                    itemStyle : {\n                        emphasis : {\n                            shadowBlur : 10,\n                            shadowOffsetX : 0,\n                            shadowColor : 'rgba(0, 0, 0, 0.5)'\n                        },\n                        normal : {\n                            position : 'inner',\n                            formatter: function (params){\n                                    return (params.percent - 0) + '%';\n                            },\n                            color : function(params){\n                                var colorList = [\n                                    '#8EC21F'\n                                ];\n                            return colorList[params.dataIndex];\n                            }\n                            /*\n                            label : {\n                                show : true\n                                formatter: '{b} : {c} ({d}%)'\n                            },\n                            labelLine : {\n                                show : true\n                            }\n                            */\n                            \n                        }\n                    },\n                    data : ThirdPieDataEncapsulation.getDatas3()\n                }            \n            ]\n        });          \n    }();\n    window.addEventListener(\"resize\",function(){\n    \tThirdPieEcharts.resize();\n    });\t\n    /*********************************************\n    *              第二个echarts饼图             *\n\t*********************************************/\t\n    //http://180.168.194.221:8090/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=discountTypeQuery&parambutton_event=30\n\t//var url_second_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=query_2&parambutton_event=\" + button_event;\n\tvar url_second_pie = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=discountTypeQuery&parambutton_event=\" + button_event;\n    var getSecondPieJSON = readJSONFile(url_second_pie).resultset;\n\tvar SecondPieEcharts = echarts.init(document.querySelector(\"#div1_p3_1\"));\n    /**\n    *  实现对CDA数据的封装\n    */\n    var SecondPieDataEncapsulation = (function(){\n        \n        var legends = function(){\n            var tempArr = [];\n            for(var i = 0; i < getSecondPieJSON.length; i++){\n               tempArr[i][0] = getSecondPieJSON[i][0];\n               tempArr[i][1] = getSecondPieJSON[i][1];\n               /*\n                tempArr.push({\n                \t'name' : getSecondPieJSON[i][0],\n                    'value'  : getSecondPieJSON[i][1],\n                    selected : true\n    \t\t\t})\n                */\n            }\n            return tempArr;\n        };\n        var data = function(){\n            var tempArr = [];\n            for(var i = 0; i < getSecondPieJSON.length; i++){\n                //tempArr[i][0] = getSecondPieJSON[i][0];\n                //tempArr[i] = getSecondPieJSON[i][1];\n                //tempArr[i][1] = getSecondPieJSON[i][1];\n                \n                tempArr.push({\n            \t\t'name' : getSecondPieJSON[i][0],\n                    'value'  : getSecondPieJSON[i][1],\n                    selected : true\n    \t\t\t})\n                \n            }\n            return tempArr;\n        };\n        return {\n            \n            getLegends : function(){\n                return legends()\n            },\n            \n            getDatas : function(){\n                return data()\n            }\n        }\n    })();\n    var ShowSecondPieEcharts = function(){\n        SecondPieEcharts.setOption({\n            /*\n            title : {\n                text : '分类营业额',\n                x : 'center',\n                top : 20,\n                textStyle : {\n                    color : 'rgba(255, 255, 255, 0.3)'\n                }\n            },   \n            */\n            tooltip : {\n                trigger: 'item',\n                //formatter: \"{a} <br/>{b} : {c}(元)\"\n            },\n            legend : {\n                orient: 'vertical',\n                x: 'left',\n                //data : SecondPieDataEncapsulation.getLegends()\n                data :SecondPieDataEncapsulation.getDatas()\n                //width : 30\n            },\n            toolbox : {\n                show : true,\n                orient : 'item',\n                feature : {\n                    mark : {\n                        show : true\n                    },\n                    magicType : {\n                        show : true,\n                        type : ['pie','funnel'],\n                        option : {\n                            funnel : {\n                                x : '25%',\n                                width : '50%',\n                                funnelAlign : 'bottom',\n                                max : 1548\n                            }\n                        }\n                    }\n                }\n            },\n            calculable : true,\n            /*\n            visualMap : {\n                // 不显示 visualMap 组件，只用于明暗度的映射\n                show : false,\n                // 映射的最小值为 80\n                min : 80,\n                // 映射的最大值为 600\n                max : 600,\n                inRange : {\n                    // 明暗度的范围是 0 到 1\n                    colorLightness : [0, 1]\n                }\n            },   \n            */\n            series : [\n                {\n                    //name : '折扣',\n                    name : Uny,\n                    type :'pie',\n                    radius : '75%',\n                    center: ['60%', '55%'],\n                    //radius : [0, '75%'],\n                    //center : ['50%', '50%'],\n                    data : SecondPieDataEncapsulation.getDatas(),\n                    avoidLabelOverlap: true,\n                    //roseType : 'angle',\n                    //roseType : 'radius',\n                    itemStyle : {\n                        normal : {\n                            label : {\n                                position : 'inner',\n                                formatter: function (params){\n                                    return (params.percent - 0) + '%';\n                                },\n                                textStyle : {\n                                    color : '#000'\n                                },\n                            },\n                            \n                            labelLine : {\n                                show : true\n                                \n                            },\n                            \n                            color : function(params){\n                                \n                                var colorList = [\n                                    '#29A7E2','#8EC21F',\n                                    '#005BAC','#FED32B',\n                                    '#E80014','#F4A20E',\n                                    '#F4F20E'\n                                ];\n                                /*\n                                var colorList = function(){   \n                                  return  '#' +   \n                                    (function(color){   \n                                    return (color +=  '0123456789abcdef'[Math.floor(Math.random()*16)])   \n                                      && (color.length == 6) ?  color : arguments.callee(color);   \n                                 })('');   \n}                               */\n                            return colorList[params.dataIndex];\n                            }\n                        },\n                        emphasis : {\n                            label : {\n                                show : true\n                            },\n                            labelLine : {\n                                show :true\n                            }\n                        }\n                    },\n                    label : {\n                        normal : {\n                            //position : 'inner'\n                        }\n                    },\n                    labelLine : {\n                        normal : {\n                            \n                            lineStyle : {\n                                color : 'green'\n                            },\n                            \n                            smooth : 0.2,\n                            length : 10,\n                            length2 : 20\n                        }\n                    }\n                    /*\n                    itemStyle : {\n                        normal : {\n                            color: '#ffffff',\n                            //阴影的大小\n                            shadowBlur : 200, \n                            // 阴影水平方向上的偏移\n                            shadowOffsetX: 0,\n                            // 阴影垂直方向上的偏移\n                            shadowOffsetY: 0,\n                            // 阴影颜色\n                            shadowColor: 'rgba(0, 0, 0, 0.5)'\n                            //shadowColor: '#ffffff'\n                        }\n                    }\n                    */\n                }\n            ]            \n    \t});        \n    }();\n\twindow.addEventListener(\"resize\",function(){\n\t\tSecondPieEcharts.resize();\n    });\t\n    \n    /*********************************************\n\t*              第一个echarts 柱状图          *\n\t*********************************************/\t\n\tvar url_first_bar = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=firstBar&parambutton_event=\" + button_event;\n\tvar getFirstBarJSON = readJSONFile(url_first_bar).resultset;\n\tvar FirstBarEcharts = echarts.init(document.querySelector(\"#div2_1_1\"));\n    /**\n    *  实现对CDA数据的封装\n    */\n    var FirstBarDataEncapsulation = (function(){\n        // 柱状图的X轴属性\n        var legends = function(){\n            var tempArr = [];\n            for(var i = 0; i < getFirstBarJSON.length; i++){\n                tempArr.push({\n                    'name' : getFirstBarJSON[i][0],\n                    selected : true\n                })\n                tempArr[i] = getFirstBarJSON[i][0];\n            }\n            return tempArr;\n        };\n        //柱状图的X轴的值\n        var data = function(){\n            var tempArr = [];\n            for(var i = 0; i < getFirstBarJSON.length; i++){\n                tempArr.push({\n                    'name' : getFirstBarJSON[i][0], \n                    'value'  : getFirstBarJSON[i][1],\n                    selected : true    \n                })\n            }\n            return tempArr;   \n        };\n        return {\n            getLegends : function(){\n                return legends();\n            },\n            getDatas : function(){\n                return data();\n            }\n        }\n    })();\n    //alert(1);\n    var ShowFirstBarEcharts = function(){\n        FirstBarEcharts.setOption({\n            /*\n            title : {\n                //text : '时段营业额',\n                x : 'center',\n                top : 5,\n                textStyle : {\n                    color : \"#4387C0\",\n                    fontWeight : 'normal',\n                    fontSize : 22\n                   fontSize : '20px'\n                    font-weight : \"normal\",\n                    font-size : 12px\n                    fontSize : \"12px\",\n                }\n                \n            },\t\n            */\n            tooltip : {\n                trigger : 'item'\n            },\n            /*\n            toolbox : {\n                //show : true,\n                feature : {\n                    dataView : {\n                        //show : true,\n                        //readOnly : true\n                    },\n                }\n            },\n            */\n            calculable : true,\n            grid : {\n                borderWidth : 0,\n                y : 80,\n                y2 : 60\n            },\n            xAxis : [\n                {\n                    name : Pet,\n                    //name : \"单位/元\",\n                    nameLocation : \"end\",\n                    type : 'category',\n                    show : true,\n                    //data : FirstBarLegends\n                    axisLine : {\n                        show : true\n                    },\n                    axisLabel : {\n                        /*\n                        interval : \"auto\",\n                        */\n                        //rotate: 25,\n                        interval : 0\n                        /*\n                        textStyle : {\n                            color : \"#007AC7\"\n                        }\n                        */\n                    },\n                    splitLine : {\n                        show: false\n                    },\n                    data : FirstBarDataEncapsulation.getLegends()\n                }\n            ],\n            grid : {    //控制图的大小\n                x : 70,\n                x2 : 70,\n                y2 : 70    //y2可以控制X轴跟Zoom控件之间的间隔，避免以为倾斜后造成label重叠到Zoom上\n            },\n            yAxis : [\n                {\n                    name : Tut,\n                    nameLocation : \"end\",\n                    type : 'value',\n                    show : true,\n                    splitLine : {\n                        show: true\n                    }\n                }\n            ],\n            series : [\n                {\n                    //name : '时段营业额',\n                    name : Tut,\n                    type : 'bar',\n                    //barWidth : 20,//柱图宽度\n                    barWidth : 40,//柱图宽度\n                    itemStyle : {\n                        normal : {\n                            color : function(params){\n                                var colorList = [\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\"\n                                ];\n                                return  colorList[params.dataIndex]\n                            }\n                        },\n                        label : {\n                            show : true,\n                            position : 'top',\n                            formatter : '{b}\\n{c}'\n                        }\n                    },\n                    //data : FirstBarData\n                    data : FirstBarDataEncapsulation.getDatas()\n                }   \n            ]\n        });        \n    }();\n\twindow.addEventListener(\"resize\",function(){\n\t\tFirstBarEcharts.resize();\n    });\n    /*********************************************\n\t*              第二个echarts柱状图           *\n\t*********************************************/\t\n    /*\n    querySelector       getElementById\n    */\n    var url_second_bar = \"/pentaho/plugin/cda/api/doQuery?path=/public/dashboard/dashboard1.cda&dataAccessId=secondBar&parambutton_event=\" + button_event;\n\tvar getSecondBarJSON = readJSONFile(url_second_bar).resultset;\n\tvar SecondBarEcharts = echarts.init(\n        document.querySelector(\"#div2_2_1\"),\n        {\n            noDataLoadingOption : {\n                text : \"No data found\",\n                effect : \"bubble\",\n                effectOption : {\n            \t\tbackgroundColor : \"#fff\"\n        \t\t},\n                textStyle : {\n        \t\t    fontSize : 20\n    \t\t    }\n            }\n        }\n    );\n    var SecondBarDataEncapsulation = (function(){\n        // 柱状图的X轴属性\n        var legends = function(){\n            var tempArr = [];\n            for(var i = 0; i < getSecondBarJSON.length; i++){\n                tempArr.push({\n                    'name' : getSecondBarJSON[i][0],\n                    selected : true\n                })\n                tempArr[i] = getSecondBarJSON[i][0];\n            }\n            return tempArr;\n        };\n        //柱状图的X轴的值\n        var data = function(){\n            var tempArr = [];\n            for(var i = 0; i < getSecondBarJSON.length; i++){\n                tempArr.push({\n                    'name' : getSecondBarJSON[i][0], \n                    'value'  : getSecondBarJSON[i][1],\n                    selected : true    \n                })\n            }\n            return tempArr;   \n        };\n        return {\n            getLegends : function(){\n                return legends();\n            },\n            getDatas : function(){\n                return data();\n            }\n        }\n    })();\n    var ShowSecondBarEcharts = function(){\n        SecondBarEcharts.setOption({\n            /*\n            noDataLoadingOption : {\n                text : '暂无数据',\n                effect : 'bubble',\n                effectOption : {\n                    effect : {\n                        n : 0\n                    }\n                }\n            },\n            /*\n            title : {\n                //text : '最好最差门店营业额',\n                x : 'center',\n                top : 5,\n                textStyle : {\n                    color : \"#4387C0\",\n                    fontWeight : 'normal',\n                    fontSize : 22\n                    fontSize : '20px'\n                    font-weight : \"normal\",\n                    font-size : 12px\n                    fontSize : \"12px\",\n                }\n            },\n            */\n            tooltip : {\n                trigger : 'item'\n            },\n            \n            /*\n            toolbox : {\n                //show : true,\n                feature : {\n                    dataView : {\n                        //show : true,\n                        //readOnly : true\n                    },\n                }\n            },\n            */\n            calculable : true,\n            /*\n            grid : {\n                borderWidth : 0,\n                y : 80,\n                y2 : 60\n            },\n            */\n            xAxis : [\n                {\n                    name : Otl,\n                    nameLocation : \"end\",\n                    type : 'category',\n                    show : true,\n                    data : SecondBarDataEncapsulation.getLegends(),\n                    axisLabel : {\n                        /*\n                        interval : \"auto\",\n                        */\n                        interval : 0,\n                        rotate: 20,\n                        textStyle: {\n                            fontSize : 10\n                            /*\n                            color: function (val) {\n                                return val >= 0 ? 'green' : 'red';\n                            }\n                            */\n                        }\n                        /*\n                        formatter : function(val){\n                            return val.split(\"\").join(\"\\n\");\n                        }\n                        /*\n                        textStyle : {\n                            color : \"#007AC7\"\n                        }\n                        */\n                    },\n                    axisLine : {\n                        show : true,\n                        color : \"#007AC7\"\n                    },\n                    splitLine : {\n                        show: false\n                    }\n                }\n            ],\n            /**********方法一**************/\n            \n            grid : {    //控制图的大小\n                x : 70,\n                x2 : 70,\n                y2 : 70    //y2可以控制X轴跟Zoom控件之间的间隔，避免以为倾斜后造成label重叠到Zoom上\n            },\n            \n            yAxis : [\n                {\n                    name : Tut,\n                    nameLocation : \"end\",\n                    type : 'value',\n                    \n                    show : true,\n                    \n                    /*\n                    show : function(){\n                        if(value == 0.00{\n                            return false;\n                        }else{\n                            return true;\n                        }\n                    },\n                    */\n                    splitLine : {\n                        show: true\n                    }\n                }\n            ],\n            series : [\n                {\n                    //name : '最好最差门店营业额',\n                    name : \"\",\n                    type : 'bar',\n                    barWidth : 40,//柱图宽度\n                    itemStyle : {\n                        normal : {\n                            color : function(params){\n                                var colorList = [\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\",\n                                    \"#007AC7\",\"#007AC7\",\"#007AC7\"\n                                ];\n                                return  colorList[params.dataIndex]\n                            }\n                        },\n                        label : {\n                            show : true,\n                            position : 'top',\n                            formatter : '{b}\\n{c}'\n                        }\n                    },\n                    data : SecondBarDataEncapsulation.getDatas()\n                }    \n            ]\n        });        \n    }();\n    /*\n    SecondBarEcharts.showLoading({\n        noDataLoadingOption : {\n                text : '暂无数据',\n                effect : 'bubble',\n                effectOption : {\n                    effect : {\n                        n : 0\n                    }\n                }\n            },\n        text : '暂无数据',\n        effect : 'bubble',\n        effectOption : {\n            effect : {\n                n : 0\n            }\n        },\n        textStyle : {\n            fontSize : 30\n        }\n    })\n    */\n\twindow.addEventListener(\"resize\",function(){\n\t\tSecondBarEcharts.resize();\n    });\n}; \n "
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Javascript"
     }
    ],
    "type": "LayoutResourceCode",
    "typeDesc": "Resource"
   },
   {
    "id": "b2846acf-9cd7-1d02-bd50-776bba72a279",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "loadEcharts2"
     },
     {
      "name": "resourceCode",
      "type": "Resource",
      "value": "/*\nfunction showEcharts2(){\n    /*********************************************************\n     *                                                       *\n     *                 第二个echarts饼图                     *\n     *                                                       *\n\n/*$.getJSON(\n        //\"http://localhost:8080/pentaho/plugin/cda/api/doQuery?path=/home/admin/A9.cda&dataAccessId=secondBar\",\n        \"/pentaho/plugin/cda/api/doQuery?path=/home/admin/A9.cda&dataAccessId=secondBar&parambutton_event=\" + button_event,\n        function(result){\n            //alert(\"JSON Data: \" + result);\n            //alert(\"JSON Data: \" + result.resultset);\n            var legends = [];\n            var datas = [];\n            var myBar2 = echarts.init(document.querySelector('#div2_2'));\n            $.each(\n                result.resultset,\n                function (i,row){\n                    //alert(row);\n                    //alert(i);\n                    legends.push(row[0]);\n                    //datas.push(row[1]);\n                    //alert(legends);\n                    datas.push(\n                        {\n                            name: row[0],\n                            value: row[1]\n                        }\n                    );\n                    //alert(row[0] + \"==\" + row[1]);\n                }\n            );\n           // window.onresize = function () {\n                \n    \t\t    //echarts.init(document.querySelector('#div2_2')).resize(); //使第一个图表适应\n                myBar2.setOption({\n                    title : {\n                        text : '门店量',\n                        x : 'center',\n                    },\n                    tooltip : {\n                        trigger : 'item'\n                    },\n                    toolbox : {\n                        show : true,\n                        feature : {\n                            dataView : {\n                                show : true,\n                                readOnly : true\n                            },\n                        }\n                    },\n                    calculable : true,\n                    grid : {\n                        borderWidth : 0,\n                        y : 80,\n                        y2 : 60\n                    },\n                    xAxis : [\n                        {\n                            type : 'category',\n                            show : true,\n                            data : legends\n                        }\n                    ],\n                    yAxis : [\n                        {\n                            type : 'value',\n                            show : true,\n                        }\n                    ],\n                    series : [\n                        {\n                            name : '时段营业额',\n                            type : 'bar',\n                            itemStyle : {\n                                normal : {\n                                    color : function(params){\n                                        var colorList = [\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B',\n                                            '#27727B','#27727B','#27727B','#27727B'\n                                        ];\n                                        return  colorList[params.dataIndex]\n                                    }\n                                },\n                                label : {\n                                    show : true,\n                                    position : 'top',\n                                    formatter : '{b}\\n{c}'\n                                }\n                            },\n                            data : datas,\n                            /*\n                            markPoint : {\n                                tooltip : {\n                                    trigger : 'item',\n                                    backgroundColor : 'rgba(0,0,0,0)',\n                                    formatter : function(params){\n                                        \n                                    }\n                                }\n                            }\n                            */\n                            /*\n                        }\n                    ]\n                }); \n                window.onresize = myBar2.resize; \n\t\t//\t}\n        }        \n    );\n}\n*/ "
     },
     {
      "name": "resourceType",
      "type": "Label",
      "value": "Javascript"
     }
    ],
    "type": "LayoutResourceCode",
    "typeDesc": "Resource"
   },
   {
    "id": "1bbe36ec-4b28-a178-8b6c-f4f1cd30537b",
    "parent": "UnIqEiD",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": "layoutRow"
     },
     {
      "name": "height",
      "type": "Integer",
      "value": "600"
     },
     {
      "name": "backgroundColor",
      "type": "Color",
      "value": ""
     },
     {
      "name": "roundCorners",
      "type": "RoundCorners",
      "value": ""
     },
     {
      "name": "textAlign",
      "type": "TextAlign",
      "value": ""
     },
     {
      "name": "cssClass",
      "type": "String",
      "value": ""
     }
    ],
    "type": "LayoutRow",
    "typeDesc": "Row"
   },
   {
    "id": "8d24ba09-23c3-d5c2-d67a-55d345c0c5ae",
    "parent": "1bbe36ec-4b28-a178-8b6c-f4f1cd30537b",
    "properties": [
     {
      "name": "name",
      "type": "Id",
      "value": ""
     },
     {
      "name": "html",
      "type": "Html",
      "value": "<html>\n    <head>\n        <script type=\"text/javascript\">\n            window.onload = onload_echarts;\n        </script>\n    </head>\n    <body\">\n        <div class=\"container\">\n            \n            <button class=\"hwq2button green medium\" \n                    id=\"button_today\" onclick=\"Today()\"></button>\n            <button class=\"hwq2button green medium\"  \n                    id=\"button_yesterday\" onclick=\"Yesterday()\"></button>\n    \t\t<button class=\"hwq2button green medium\" \n                    id=\"button_week\" onclick=\"This_Week()\"></button>\n    \t\t<button class=\"hwq2button green medium\" \n                    id=\"button_month\" onclick=\"This_Month()\"></button>\n    \t\t<button class=\"hwq2button green medium\" style=\"float: right;\" \n                    id=\"button_refresh\" onclick=\"Refresh()\"></button>\n    \t\t<!--<hr style=\"border: 1px solid silver;margin-bottom:5px\">-->\n            \n            <div id=\"div1\" class=\"col-md-12\">\n                \n                <!---------------------------------------\n                -                 营业额                -\n                ---------------------------------------->\n                <div id=\"div1_p1\" class=\"col-md-3\">\n                    <div style=\"width: 100%; height: 10%;\">\n                        <h2 id=\"turnover\"  style=\"margin-left: 20%;margin-top:5px; color: #4376AE\"></h2>\n                    </div>\n                    <div style=\"width: 100%; height: 10%\">\n                        <div style=\"height: 100%; float: left; margin-left: 20%\">\n                            <h2 style=\"color: #4376AE\">￥</h2>\n                        </div>\n                        <div>\n                            <h2 style=\"margin-left: 20%; color: #4376AE\" id=\"query_amount\"></h2>\n                        </div>\n                    </div>\n                    <div style=\"width:100%; height:5%;\">\n                        <div style=\"height: 100%; width: 50%;color: #F4A20E;float: left;\">\n                            <div style=\"margin-left: 40%;height: 100%; width: 42px;float:left;\">\n                                <span id=\"compared\">\n                                    <!-- \n                                    <img style=\"width: 16px; height: 14px;\" alt=\"\" src=\"./images/1.png\"/>\n                                    -->\n                                </span> \n                            </div>\n                            <div style=\"margin-left:52%;height: 100%; width: 50px;\">\n                                <span id=\"query_1_up\"></span>% \n                            </div>\n                        </div>\n                        <div style=\"height: 100%; width: 50%;color: #28A6E1;float: left;\">\n                            <div style=\"height: 100%; width: 32px;float:left;\">\n                                <span id=\"sequential\"> \n                                    <!--\n                                    <img style=\"width: 16px; height: 14px;\" alt=\"\" src=\"./images/2.png\"/>\n                                    -->\n                                </span> \n                            </div>\n                            <div style=\"margin-left:12%;height: 100%; width: 50px;\">\n                                <span id=\"query_1_down\"></span>% \n                            </div>\n                        </div>\n                    </div>\n                    <div style=\"width: 100%; height: 70%;\" id=\"div1_p1_1\"></div>\n                </div>\n                \n                \n                <!---------------------------------------\n                -               开台数VS人数            -\n                ---------------------------------------->\n                <div id=\"div1_p2\" class=\"col-md-3\">\n                    <div style=\"width: 100%;height: 15%;\">\n                \t    <h2 id=\"kai_ren\"  style=\"margin-left: 35%;margin-top:5px; color: #4376AE\"></h2>   \n        \t\t\t</div>\n                    <div style=\"width: 100%; height: 5%;\">\n                        <div style=\"height: 100%; width: 100%;d\">\n                            <div id=\"everyconsumer\"  style=\"height: 100%; width: 60px;margin-left: 15px; color:#8EC21F;float:left;\"></div>\n                            <div style=\"height: 100%; width: 50px;margin-left: 60px;color:#8EC21F\">\n                                <span id=\"query_3_single\"></span>\n                            </div>\n                        </div>\n                        <div style=\"height: 100%; width: 100%;\">\n                            <div id=\"capita_consumption\"  style=\"height: 100%; width: 60px;margin-left: 15px;color:#29A7E2;float:left;\"></div>\n                            <div style=\"height: 100%; width: 50px;margin-left: 60px;color:#29A7E2\">\n                                <span id=\"query_3_per\"></span>\n                            </div>\n                        </div>\n                    </div>\n                    <div style=\"width: 100%;height: 79.9%\" id=\"div1_p2_2\"></div>\n                </div>\n                \n                \n                <!---------------------------------------\n                -                  支付类型             -\n                ---------------------------------------->\n                <div id=\"div1_p3\" class=\"col-md-6\">\n                    <div style=\"width: 100%;height: 10%\">\n                        <h2 id=\"pay_type\"  style=\"margin-left: 35%;margin-top:5px; color: #4376AE\"></h2>   \n        \t\t\t</div>\n                    \n                    <!-- \n                    <div style=\"width: 100%; height: 5%\">\n                        <div style=\"height: 100%; width: 100%;d\">\n                            <div id=\"everyconsumer\" style=\"height: 100%; width: 50px;margin-left: 15px; color:#8EC21F;float:left;\"></div>\n                            <div style=\"height: 100%; width: 90px;margin-left: 65px;color:#8EC21F\">\n                                <span id=\"query_3_single\"></span> \n                            </div>\n                        </div>\n                        <div style=\"height: 100%; width: 100%;\">\n                            <div style=\"height: 100%; width: 50px;margin-left: 15px;color:#29A7E2;float:left;\"></div>\n                            <div style=\"height: 100%; width: 80px;margin-left: 65px;color:#29A7E2\">\n                                <span id=\"query_3_per\"></span> \n                            </div>\n                        </div>\n                    </div>\n                    -->\n                    \n                    <div style=\"width: 100%;height: 85%\" id=\"div1_p3_1\"></div>\n                </div>\n            </div>\n            <div id=\"div2\" class=\"col-md-12\"> \n                <!---------------------------------------\n                -            时间段营业额               -\n                ---------------------------------------->\n                <div id=\"div2_1\" class=\"col-md-4\">\n                    <div style=\"width: 100%;height: 10%\">\n                        <h2 id=\"turnover_time\"  style=\"margin-left: 35%;margin-top:5px; color: #4376AE\"></h2>   \n            \t\t</div>\n                    <div style=\"width: 100%;height: 90%\" id=\"div2_1_1\"></div>\n                </div>\n                \n                \n                <!---------------------------------------\n                -       最好最差门店营业额              -\n                ---------------------------------------->\n        \t\t<div id=\"div2_2\" class=\"col-md-4\">\n                    <div style=\"width: 100%;height: 10%\">\n                        <h2 id=\"turnover_qu\" style=\"margin-left: 35%;margin-top:5px; color: #4376AE\"></h2>   \n                \t</div>\n                    <div style=\"width: 100%;height: 90%;\" id=\"div2_2_1\"></div>\n                </div>\n    \t\t</div>\n    \t</div> \n    </body>\n</html> "
     },
     {
      "name": "fontSize",
      "type": "Integer",
      "value": ""
     },
     {
      "name": "color",
      "type": "Color",
      "value": ""
     },
     {
      "name": "cssClass",
      "type": "String",
      "value": ""
     }
    ],
    "type": "LayoutHtml",
    "typeDesc": "Html"
   }
  ],
  "title": "CDF - Sample structure"
 }
}